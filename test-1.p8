pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
function _init()
 strings = {}
 poke(0x5f59,0x74) --text spacing
 
end

function _update()
	cls(1)
	ctrl = btnp()
	textbox:update(ctrl)
	
end

function _draw()
	map(0,0,0,0,16,16)
	rectfill(8,72,119,119,0)
	rect(9,73,118,118,15)
	
textbox:draw()

end

textbox = {
lines = {},
	script = {"hello world",
	"its a beautiful day to be swimming",
	"just remember to use plenty of sunscreen, or else you will end up as red as me! ohohohoho!"},
	t = 0,
	l_i = 1
	waiting = false}
	
function textbox:update(ctrl)
	local btn_press = ctrl&0x0030!=0
 if waiting and btn_press then
 	self.t = 1
 else
 	self.t += 1
 end
 if self.t == 1 then
 	lines[#lines+1] = ""
 end
 lines[#lines] = sub(script[self.l_i],1,self.t)
end

function textbox:draw()
	local i = 76
	for s in all(textbox.lines) do
		print(s,16,i, 15)
		i += (#s\24+2)*7
	end
end
__gfx__
000000006666666677777777000000000000000088883333333333c333333333333333333333000000000000000000000000000000000000777bb777777bb777
00000000666666667777777700000000000000008887883333333c333333333333333333333300000000000000000000000000000000000073bbbbbbb3bbbbb7
00700700666666667777777700000000000000008777883333330c33333333333333333333330000000000000000000000000000007007007bbbb3bbbbbbb3b7
0007700066666666777777770000000000000000387778333337cc3333333333333333333333000000000000000000000000000000077000bbbbbbbbbbbbbbbb
00077000666666667777777700000000000000003888778333334cccc9933333333333333333000000000000000000000000000000077000bbbbbbbbbbbbbbbb
007007006666666677777777000000000000000033388338333344cc00ccc0888333333333330000000000000000000000000000007007007b3bbbbbbb3bbbb7
0000000066666666777777770000000000000000333383333833344cccccc2222883333333330000000000000000000000000000000000007bbbbbbbbbbbbbb7
000000006666666677777777000000000000000033333333333333427999c2023338833333330000000000000000000000000000000000007bbbbbbbbbbbbbb7
000000000000000000000000000000000000000033333333333388879990c2208333333333330000000000000000000000000000000000007bbbbbbbbbbbbbb7
000000000000000000000000000000000000000033333333333334799999003338333333333300000000000000000000000000000000000073bbbbbbbbbbbbb7
00000000000000000000000000000000000000003333333333334799090992333333333333330000000000000000000000000000000000007bbbb3bbbbbbb3b7
0000000000000000000000000000000000000000333388333333993330009333333333333333000000000000000000000000000000000000bbbbbbbbbbbbbbbb
000000000000000000000000000000000000000033c90cc8333333333c999333333133333333000000000000000000000000000000000000bbbbbbbbbbbbbbbb
00000000000000000000000000000000000000003c3330cc83133333390093333114113333330000000000000000000000000000000000007b3bbbbbbb3bbbb7
00000000000000000000000000000000000000003333399c14113333c9999c331144141333330000000000000000000000000000000000007bbbbbbbbbbbbbb7
000000000000000000000000000000000000000033333c1144141333c9999c33144414413333000000000000000000000000000000000000777bb777777bb777
000000000000000000000000000000000000000033333144414441ccc0000cc11444444413330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033314444144441cc99999ccc44c4414441330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003114444147c44ccc09999ccc44c4414444130000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000344444144ccccccc999990c0c0c4441444410000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000034444144ccc0ccc9999990cc0cccc41444440000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003344144c0c070cc9000000ccccc0744144430000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033414444444cccc99999990cc444444144330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033143339444444c99999999c4444444414330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333399cc4cc909999909c0443333414330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333390ccccc9999999999cc33333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333399c0ccc9999999999ccc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333999cccc0999999990ccc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333390cccc9900000099ccc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333339cccc99999999990cc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333333cccc099999999cccc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333333ccc0c900000090ccc3333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333333ccccc99999999cccc3333333330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033333333333ccc0c900099ccccc3333333330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033333333333cccc3000000cccc33333333330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033333333333333c333333ccccc33333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333ccc333333ccc3333333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333cc3c333333ccc333333333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333333cc0c3cc333333cc333333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333c33c333cc333333cc33333333330000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000033333333333c33333333333ccccc333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333333333333ccccccccc3333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333333333337c3333c033c333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333333333333333333c333333330000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000333333333333333333333333333cc33333330000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000003333333333333333333333333333733333330000000000000000000000000000000000000000000000000000
__map__
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f1e1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
